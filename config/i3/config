# i3 config file (v4)

# border & title
for_window [class="^.*"] title_format "%title"

# mod key used for most binds
# Mod1 = Alt
# Mod4 = Super
set $Mod Mod4

# direction keys
set $up Up
set $down Down
set $left Left
set $right Right

# gaps
gaps inner 12
gaps outer 0

# font
font pango:Fira Code Retina Bold 12

# ###############        Bar         ##################
# exec_always --no-startup-id ~/.config/polybar/launch.sh

# ###############     Autostart      ##################

# # run with reload
# exec_always --no-startup-id xrdb -load ~/.Xresources
exec_always --no-startup-id feh --no-fehbg --bg-scale --randomize ~/Pictures/walls/*

# # run once
exec --no-startup-id picom -b
exec --no-startup-id light-locker &

#############         Colors           ##################

# class                 border  backgr. text    indicator child_border
client.focused          #2e3440 #2e3440 #ffffff #b48ead   #5e81ac
client.focused_inactive #3b4252 #3b4252 #d8dee9 #484e50   #5f676a
client.unfocused        #4c566a #4c566a #d8dee9 #292d2e   #222222
client.urgent           #b48ead #b48ead #ffffff #900000   #900000
client.placeholder      #000000 #0c0c0c #ffffff #000000   #0c0c0c

client.background       #2e3440


#############         Bindings           ##################

# # toggle compositor
# bindsym $Mod+Shift+p exec --no-startup-id /usr/bin/togglepicom.sh

# # toggle polybar
# bindsym $Mod+Shift+d exec --no-startup-id /usr/bin/togglepolybar.sh

# # toggle audio visualizer
# bindsym $Mod+Shift+g exec --no-startup-id /usr/bin/toggleglava.sh

# # toggle dunst
# bindsym $Mod+Shift+n exec --no-startup-id dunstctl set-paused toggle

# kill focused window
bindsym $Mod+BackSpace    kill

# launchers
bindsym $Mod+Tab          exec --no-startup-id ~/.local/bin/bwmenu
bindsym $Mod+slash        exec --no-startup-id rofi -show combi
# bindsym $Mod+Tab          exec --no-startup-id rofi -show window
# bindsym $Mod+w            exec --no-startup-id rofi -show wifi

# core
# bindsym $Mod+w          exec --no-startup-id chromium
# bindsym $Mod+f          exec --no-startup-id thunar
bindsym $Mod+Return       exec --no-startup-id kitty

# suspend script
# bindsym $Mod+Esc          exec --no-startup-id systemctl suspend

# screenshot
# bindsym $Mod+Shift+s exec --no-startup-id flameshot gui

# audio
# bindsym Control+F7        exec --no-startup-id playerctl play-pause
# bindsym Control+F8        exec --no-startup-id playerctl next
# bindsym Control+F6        exec --no-startup-id playerctl previous
# bindsym Control+F4        exec --no-startup-id pamixer -t
# bindsym Control+F3        exec --no-startup-id pamixer -i 4
# bindsym Control+F2        exec --no-startup-id pamixer -d 4

###########          Workspace Bindings          ###############

# switch to workspace
# bindsym $Mod+1 workspace 1
# bindsym $Mod+2 workspace 2
# bindsym $Mod+3 workspace 3
# bindsym $Mod+4 workspace 4
# bindsym $Mod+5 workspace 5
# bindsym $Mod+6 workspace 6
# bindsym $Mod+7 workspace 7
# bindsym $Mod+8 workspace 8

# switch to workspace - numpad alternatives
# bindsym $mod+Mod2+KP_1 workspace 1
# bindsym $mod+Mod2+KP_2 workspace 2
# bindsym $mod+Mod2+KP_3 workspace 3
# bindsym $mod+Mod2+KP_4 workspace 4
# bindsym $mod+Mod2+KP_5 workspace 5
# bindsym $mod+Mod2+KP_6 workspace 6
# bindsym $mod+Mod2+KP_7 workspace 7
# bindsym $mod+Mod2+KP_8 workspace 8

# switch to next or previous workspace
bindsym $Mod+Home           workspace prev
bindsym $Mod+End            workspace next
# move to next or previous workspace
bindsym $Mod+Shift+Home     move window to workspace prev_on_output
bindsym $Mod+Shift+End      move window to workspace next_on_output

# move focused container to workspace
# bindsym $Mod+Shift+1 move container to workspace 1; workspace 1
# bindsym $Mod+Shift+2 move container to workspace 2; workspace 2
# bindsym $Mod+Shift+3 move container to workspace 3; workspace 3
# bindsym $Mod+Shift+4 move container to workspace 4; workspace 4
# bindsym $Mod+Shift+5 move container to workspace 5; workspace 5
# bindsym $Mod+Shift+6 move container to workspace 6; workspace 6
# bindsym $Mod+Shift+7 move container to workspace 7; workspace 7
# bindsym $Mod+Shift+8 move container to workspace 8; workspace 8

# move focused container to workspace - numpad alternatives
# bindsym $Mod+Shift+Mod2+KP_End   move container to workspace 1; workspace 1
# bindsym $Mod+Shift+Mod2+KP_Down  move container to workspace 2; workspace 2
# bindsym $Mod+Shift+Mod2+KP_Next  move container to workspace 3; workspace 3
# bindsym $Mod+Shift+Mod2+KP_Left  move container to workspace 4; workspace 4
# bindsym $Mod+Shift+Mod2+KP_Begin move container to workspace 5; workspace 5
# bindsym $Mod+Shift+Mod2+KP_Right move container to workspace 6; workspace 7
# bindsym $Mod+Shift+Mod2+KP_Home  move container to workspace 7; workspace 7
# bindsym $Mod+Shift+Mod2+KP_Up    move container to workspace 8; workspace 8

workspace_auto_back_and_forth yes

##############     Reload configs           ################

# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
bindsym $Mod+Shift+r restart

# reload the configuration file
# bindsym $Mod+Shift+c reload

############      Container/Window control  ############

# floating
bindsym $Mod+Shift+f floating toggle
floating_modifier  Mod1

# change focus
bindsym $Mod+$left          focus left
bindsym $Mod+$down          focus down
bindsym $Mod+$up            focus up
bindsym $Mod+$right         focus right

bindsym $Mod+Prior          focus parent
bindsym $Mod+Next           focus child

# move focused window
bindsym $Mod+Shift+$up      move up    10px
bindsym $Mod+Shift+$down    move down  10px
bindsym $Mod+Shift+$left    move left  10px
bindsym $Mod+Shift+$right   move right 10px


# Size
# bindsym $Mod+Mod1+Shift+$up    resize shrink up     10 px or 1 ppt
# bindsym $Mod+Mod1+Shift+$down  resize grow   down   10 px or 1 ppt
# bindsym $Mod+Mod1+Shift+$left  resize shrink left   10 px or 1 ppt
# bindsym $Mod+Mod1+Shift+$right resize grow   right  10 px or 1 ppt

# layout toggle ad split
bindsym $Mod+t              layout toggle tabbed split
bindsym $Mod+Shift+t        layout toggle splitv splith
bindsym $Mod+s              split toggle

# switch to workspace with urgent window
# for_window [urgent="latest"] focus
# focus_on_window_activation   focus

# container layout
# bindsym $Mod+h split h
# bindsym $Mod+v split v
# bindsym $Mod+Control+t layout tabbed
# bindsym $Mod+Control+s layout stacking
# bindsym $Mod+Control+h layout toggle split

default_orientation auto
focus_wrapping no

###############      Border & Gaps     ###############

new_window pixel 2
new_float  pixel 2
default_border pixel 2
default_floating_border pixel 2

hide_edge_borders smart

# bindsym $Mod+shift+b border toggle

# changing border style
# bindsym $Mod+n border normal
# bindsym $Mod+y border 1pixel
# bindsym $Mod+u border none

# change gaps
# bindsym $Mod+plus                gaps inner current plus  4
# bindsym $Mod+minus               gaps inner current minus 4
# bindsym $Mod+Shift+plus          gaps outer current plus  4
# bindsym $Mod+Shift+minus         gaps outer current minus 4
# bindsym $Mod+Control+plus        gaps inner all     plus  4
# bindsym $Mod+Control+minus       gaps inner all     minus 4
# bindsym $Mod+Control+Shift+plus  gaps outer all     plus  4
# bindsym $Mod+Control+Shift+minus gaps outer all     minus 4

############    mouse settings   ############

mouse_warping none

############    application settings   ############

# assign applications to specific workspace
assign [class="(?i)(?:slack)"] → "2:comms"
assign [class="(?i)(?:vscodium)"] → "3:code"
# assign [class="(?i)(?:chromium)"] → 3
# assign [class="(?i)(?:jetbrains-idea-ce)"] → 4
# assign [class="(?i)(?:Spotify)"] → 5
# assign [class="(?i)(?:discord)"] → 8

# focus, floating, & sticky
# for_window [class="(?i)(?:qt5ct|pinentry)"]          floating enable, focus
# for_window [title="(?i)(?:copying|deleting|moving)"] floating enable
for_window [window_role="(?i)(?:pop-up|setup)"]      floating enable
# for_window [class="jetbrains-idea-ce" title="win0"]   floating enable

popup_during_fullscreen smart
force_display_urgency_hint 1000 ms
focus_on_window_activation urgent


############    status bar settings   ############
bar {
    font pango:Fira Code Retina, FontAwesome 12
    position bottom
    mode hide
    modifier $Mod
    tray_output none
    status_command /usr/bin/i3status-rs ./.config/i3/status.toml
    colors {
        separator #666666
        background #2e3440
        statusline #dddddd
        focused_workspace #0088CC #0088CC #ffffff
        active_workspace #333333 #333333 #ffffff
        inactive_workspace #333333 #333333 #888888
        urgent_workspace #2f343a #900000 #ffffff
    }
}
